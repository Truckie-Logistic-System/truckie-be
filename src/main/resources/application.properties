spring.application.name=capstone-project
app.base.url=http://localhost:8080
# Database config
spring.datasource.driver-class-name=org.postgresql.Driver
#
# spring.datasource.url=jdbc:postgresql://localhost:5432/capstone-project
# spring.datasource.username=postgres
# spring.datasource.password=postgres
#
spring.datasource.url=jdbc:postgresql://14.225.253.8:5432/truckie
spring.datasource.username=postgres
spring.datasource.password=123
#
#spring.datasource.url=jdbc:postgresql://truckiesep2025.postgres.database.azure.com:5432/postgres
#spring.datasource.username=sep
#spring.datasource.password=Minhan@123

#spring.datasource.url=jdbc:postgresql://ep-small-sun-a1025kfx-pooler.ap-southeast-1.aws.neon.tech:5432/truckiedb
#spring.datasource.username=neondb_owner
#spring.datasource.password=Truckie@123

# Hibernate - Validate mode (schema must match entities)
spring.jpa.hibernate.ddl-auto=validate
# Disable SQL logging in console
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

#oauth2
spring.security.oauth2.client.registration.google.client-id=358401289952-t9k9oelrg00tcb3a63jiv9pcaumb1dia.apps.googleusercontent.com
spring.security.oauth2.client.registration.google.client-secret=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
spring.security.oauth2.client.registration.google.redirect-uri=http://localhost:8080/v1.0/auths/login/oauth2/google
spring.security.oauth2.client.registration.google.scope=email,profile

#mail
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=sonnnse182328@fpt.edu.vn
spring.mail.password=rvna efft nmog mlbi 
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.templates.path=classpath:/templates/emails/
spring.mail.from=noreply@truckie.vn
notification.email.from-name=Truckie Logistics
notification.email.from-email=noreply@truckie.com
notification.email.rate-limit.per-hour=50
notification.email.rate-limit.per-day=200

# Frontend URL for email links
app.frontend.url=http://14.225.253.8:3000


#swagger
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.enabled=true
springdoc.api-docs.enabled=true
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.operationsSorter=alpha
springdoc.packagesToScan=capstone_project
springdoc.pathsToMatch=/api/v1/**

# Redis configuration
spring.data.redis.host=truckie2025.redis.cache.windows.net
spring.data.redis.port=6380
spring.data.redis.username=default
spring.data.redis.password=OEWn02c76Z8qSdQBuCH38qw5OWCSHeasjAzCaCm937g=
spring.data.redis.ssl.enabled=true
spring.data.redis.timeout=60000
# Lettuce connection pool configuration
spring.data.redis.lettuce.pool.enabled=true
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0
spring.data.redis.lettuce.pool.max-wait=-1ms
# Cache configuration
spring.cache.type=redis

# ================= AUTH & JWT =================
auth.api.base-path=/api/v1/auths
email.api.base-path=/api/v1/emails

# JWT Configuration
jwt.secret=m9fP0TyWJ1tF3z2q8rB7tG6+KoW8I8sLK8JiwUEaUO8=
jwt.access-token.expiration-ms=3600000
jwt.refresh-token.expiration-ms=2592000000
jwt.cache.enabled=true
jwt.cache.ttl-seconds=3600

# ================= USER & ROLE =================
user.api.base-path=/api/v1/users
manager.api.base-path=/api/v1/managers
role.api.base-path=/api/v1/roles
customer.api.base-path=/api/v1/customers
driver.api.base-path=/api/v1/drivers

# ================= ADMIN DASHBOARD =================
admin-dashboard.api.base-path=/api/v1/admin/dashboard

# ================= ADDRESS =================
address.api.base-path=/api/v1/address

# ================= VEHICLE =================
vehicle.api.base-path=/api/v1/vehicles
vehicle-type.api.base-path=/api/v1/vehicle-types
size-rule.api.base-path=/api/v1/size-rules
vehicle-maintenance.api.base-path=/api/v1/vehicle-maintenances
vehicle-service-record.api.base-path=/api/v1/vehicle-service-records
vehicle-assignment.api.base-path=/api/v1/vehicle-assignments
vehicle-fuel-consumption.api.base-path=/api/v1/vehicle-fuel-consumptions

# ================= CATEGORY =================
category.api.base-path=/api/v1/categories
category-pricing-detail.api.base-path=/api/v1/category-pricing-details

# ================= PRICING & DISTANCE =================
basing-price.api.base-path=/api/v1/basing-prices
distance.api.base-path=/api/v1/distances
distance-rule.api.base-path=/api/v1/distance-rules

# ================= ORDER =================
order.api.base-path=/api/v1/orders
order-detail.api.base-path=/api/v1/order-details
order-size.api.base-path=/api/v1/order-sizes
pdf.api.base-path=/api/v1/orders
bill-of-lading.api.base-path=/api/v1/bill-of-ladings
photo-completion.api.base-path=/api/v1/photo-completions
payos-transaction.api.base-path=/api/v1/transactions/pay-os
stripe-transaction.api.base-path=/api/v1/transactions/stripe
transaction.api.base-path=/api/v1/transactions
packing-proof-image.api.base-path=/api/v1/packing-proof-images
loading-documentation.api.base-path=/api/v1/loading-documentation

# ================= RECIPIENT TRACKING (PUBLIC) =================
recipient-tracking.api.base-path=/api/v1/public/recipient-tracking

journey-history.api.base-path=/api/v1/journey-histories

# ================= CONTRACT =================
contract.api.base-path=/api/v1/contracts
contract-rule.api.base-path=/api/v1/contract-rules

# ================= PENALTY =================
penalty.api.base-path=/api/v1/penalties

# ================= ISSUE =================
issue.api.base-path=/api/v1/issues
issue-type.api.base-path=/api/v1/issue-types
issue-image.api.base-path=/api/v1/issue-images
issue-customer.api.base-path=/api/v1/issue/customer
damage-resolution.api.base-path=/api/v1/damage-resolution
# Return payment deadline in minutes (driver cannot wait too long)
issue.return-payment.deadline-minutes=30

# ================= OFF-ROUTE WARNING CONFIG =================
# Khoảng cách lệch tuyến tối đa cho phép, mét - realistic production threshold
offroute.max-distance-meters=100.0
# Thời gian lệch tuyến tối thiểu để gửi cảnh báo VÀNG (phút)
offroute.warning.yellow-minutes=1
# Thời gian lệch tuyến tối thiểu để gửi cảnh báo ĐỎ (phút)
offroute.warning.red-minutes=2
# Thời gian chờ driver quay lại route sau khi staff liên hệ (phút)
offroute.contact.grace-period-minutes=1
# Thời gian gia hạn cho mỗi lần staff gia hạn (phút)
offroute.contact.extension-minutes=1
# Khoảng cách tối thiểu để xác nhận driver đang quay lại route (mét)
offroute.return.min-distance-meters=50.0

# ================= REFUND =================
refund.api.base-path=/api/v1/refunds

# ================= DEVICE =================
device.api.base-path=/api/v1/devices
device-type.api.base-path=/api/v1/device-types

# ================= USER CHAT =================
user-chat.api.base-path=/api/v1/user-chat
# ================= SETTING =================
system-setting.api.base-path=/api/v1/system-settings
contract-setting.api.base-path=/api/v1/contract-settings
weight-unit-setting.api.base-path=/api/v1/weight-unit-settings
carrier-setting.api.base-path=/api/v1/carrier-settings
stipulation-setting.api.base-path=/api/v1/stipulation-settings

# ================= SEAL =================
seal.api.base-path=/api/v1/seals

# ================= VIETMAP =================
vietmap.api.base-path=/api/v1/vietmap
# ================= NOTIFICATION =================
notification.api.base-path=/api/v1/notifications

# ================= DASHBOARD =================
dashboard.api.base-path=/api/v1/dashboard

# ================= DEMO DATA (DASHBOARD) =================
demo-data.api.base-path=/api/v1/admin/demo/dashboard-data

# ================= ROUTE =================
route.api.base-path=/api/v1/routes

app.cors.allowed-origins=http://localhost:5173,\
  http://localhost:5174,\
  http://14.225.253.8:3000,\
  https://domain.com

# Admin user configuration
admin.username=admin
admin.email=admin@example.com
admin.password=admin

# AI Chatbot Configuration (Google Gemini)
ai.gemini.api-key=AIzaSyBDR0dzvRfsQ_MOkgSK5lrZYvYYFhBb4M4
ai.gemini.model=gemini-2.5-flash
ai.gemini.base-url=https://generativelanguage.googleapis.com/v1beta
ai.gemini.temperature=0.7
ai.gemini.max-tokens=2048

# Vietmap API Configuration
vietmap.api.key=df5d9a3fffec4d07c7e3710bd0caf8181945d446509a3d42
vietmap.alternative.api.key=aca41429aa153ae51780420fd7e4bf8052b582a39b92094e
vietmap.base-url=https://maps.vietmap.vn
vietmap.api.search.demo.endpoint=/api/search/demo
vietmap.api.place.demo.endpoint=/api/place/demo
vietmap.api.autocomplete.demo.endpoint=/api/autocomplete/demo
vietmap.api.reverse-geocode.demo.endpoint=/api/reverse/demo
vietmap.api.route.endpoint=/api/route/v3
vietmap.api.autocomplete.endpoint=/api/autocomplete/v3
vietmap.api.reverse-geocode.endpoint=/api/reverse/v3
vietmap.api.place.endpoint=/api/place/v3
vietmap.api.route-tolls.endpoint=/api/route-tolls
vietmap.parameter.value.default.hcm.focus=10.762622,106.660172
vietmap.parameter.value.city.id.hcm=12
vietmap.maps.styles.endpoint=/maps/styles/tm/tiles.json
vietmap.maps.mobile.styles.endpoint=/api/maps/raster/styles.json

# Vietmap Route API v3 Default Configuration
vietmap.route.default.alternative=true
vietmap.route.default.time=2025-08-01T17:00:00Z

# Stripe API Configuration
stripe.secret-key=sk_test_51SA8hMQ0VHm9JROhpV8tn7QQXT2p40NWcK4QuWUFcGam7ivutLE5oZDBPBs8gQTYqI74HlhhQ1Bz5n5QqVadMnww00ypeBSC5y
stripe.webhook-secret-key=whsec_85a310a93ccc113c87c4505bc53e0645b8dd5a6c26763b05fb36f9835c417c6d
stripe.publishable-key=pk_test_51SA8hMQ0VHm9JROhJHrKcDG0USwi4gW6VINonZx18jgm0i47uJilnSVjiJCuhbjjRiI2b0s5lR20R2Uf2dItgvlS001qE7sV9a

# ================= LOGGING CONFIGURATION =================
# Root logging level - only show WARN and ERROR by default
logging.level.root=WARN

# Application package - show INFO for our code
logging.level.capstone_project=INFO
logging.level.org.hibernate=INFO
logging.level.org.hibernate.SQL=INFO

# Spring Framework - reduce noise
logging.level.org.springframework=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.boot=WARN
logging.level.org.springframework.boot.autoconfigure=ERROR
logging.level.org.springframework.context=WARN
logging.level.org.springframework.security=WARN

# Hibernate - hide SQL and binding parameters
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=ERROR
logging.level.org.hibernate.engine.transaction.internal.TransactionImpl=ERROR

# Database - only errors
logging.level.org.springframework.jdbc.core=ERROR
logging.level.org.springframework.data.redis=ERROR
logging.level.org.springframework.data.redis.core=ERROR

# WebSocket - only errors
logging.level.org.springframework.web.socket=ERROR
logging.level.org.springframework.messaging=ERROR

# Connection pool - only errors
logging.level.com.zaxxer.hikari=ERROR

# Other libraries - only errors
logging.level.io.lettuce=ERROR
logging.level.reactor=ERROR
logging.level.org.apache=ERROR

# Pattern for console output
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

spring.web.resources.add-mappings=false

# Cloudinary Configuration
cloudinary.cloud-name=dcwyv9jsj
cloudinary.api-key=677654869191237
cloudinary.api-secret=FrRBEwUGZKfmDOus-zlTgZS0Wfg
cloudinary.secure=true

#payos
payos.client-id=309fdd88-5c4f-441f-a720-af5c65147eef
payos.api-key=5f45f83f-c53c-46e1-84f2-bc01f3ebd718
payos.checksum-key=56b50f36f5b18b9fbe0d44c1af22dbc954d757e04a417f18740fa1ad46221ae1
payos.base-url=https://api-merchant.payos.vn
#payos.return-url=http://localhost:8080/api/v1/transactions/pay-os/callback
#payos.cancel-url=http://localhost:8080/api/v1/transactions/pay-os/cancel
#payos.return-url=https://truckie-capstone.onrender.com/api/v1/transactions/pay-os/callback
#payos.cancel-url=https://truckie-capstone.onrender.com/api/v1/transactions/pay-os/cancel

payos.return-url=http://14.225.253.8:3000/payment/return
payos.cancel-url=http://14.225.253.8:3000/payment/return

management.tracing.enabled=false

# OptaPlanner configuration
optaplanner.solver.termination.spent-limit=5s
#optaplanner.constraint.weights.ItemMustFitDimensions=HARD/10
#optaplanner.constraint.weights.OverWeightCapacity=HARD/1
#optaplanner.constraint.weights.OverVolumeCapacity=HARD/1
#optaplanner.constraint.weights.MinimizeVehiclesUsed=SOFT/1000
#optaplanner.constraint.weights.MinimizeLeftoverWeight=SOFT/1

#local

#spring.datasource.driver-class-name=org.postgresql.Driver
#spring.datasource.url=jdbc:postgresql://localhost:5432/capstone-project
#spring.datasource.username=postgres
#spring.datasource.password=postgres

#spring.data.redis.host=localhost
#spring.data.redis.port=6379
#spring.data.redis.ssl.enabled=false

# Enable DevTools
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# Optional: Additional paths to watch
spring.devtools.restart.additional-paths=src/main/java

# Optional: Trigger file for manual restart
spring.devtools.restart.trigger-file=.reloadtrigger


# Faster restart
spring.devtools.restart.poll-interval=1000
spring.devtools.restart.quiet-period=400

# LiveReload server port (default 35729)
spring.devtools.livereload.port=35729

# Disable template caching for development
spring.thymeleaf.cache=false
spring.freemarker.cache=false
spring.groovy.template.cache=false

# Prefix code for Order and OrderDetail
prefix.order.code=ORD
prefix.order.detail.code=ORD_D_
prefix.vehicle.assignment.code=TRIP_

# ================= ORDER CANCELLATION REASONS =================
# Staff cancellation reasons (comma-separated, Vietnamese)
# NOTE: Runtime sẽ đọc từ file order-cancellation.properties (UTF-8).
# Dòng dưới được comment để tránh override giá trị UTF-8 bằng bản ISO-8859-1 trong application.properties.
# order.cancellation.reasons.staff=Không đủ điều kiện vận chuyển,Hàng hóa không phù hợp với dịch vụ,Thông tin đơn hàng không chính xác,Địa chỉ giao hàng không hợp lệ,Khách hàng yêu cầu hủy,Không thể liên lạc với khách hàng,Hàng hóa bị cấm vận chuyển,Lý do khác
penalty.truck.traffic-violations=Chạy quá tốc độ,Vượt đèn đỏ,Đi sai làn đường,Không giữ khoảng cách an toàn,Không chấp hành tín hiệu giao thông,Chở quá tải trọng cho phép,Không có hoặc không mang theo giấy tờ xe,Không thắt dây an toàn,Sử dụng điện thoại khi lái xe,Đỗ dừng xe sai quy định,Lý do khác

#server.port=8080

server.address=0.0.0.0
server.port=${PORT:8080}


# Multipart file upload configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=2KB

# Liquibase Configuration
spring.liquibase.enabled=true
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml
spring.liquibase.drop-first=false

# Weight Unit Configuration
app.weight.units.default=Tấn
app.weight.units.available=Tấn,Kí,Kilogram,Tạ,Yến

# ================= API ENDPOINTS =================
# Vehicle Service Record Demo API Endpoints
api.vehicle-service-record.demo.generate=/api/v1/vehicle-service-records/demo/generate
api.vehicle-service-record.demo.clear=/api/v1/vehicle-service-records/demo/clear
api.vehicle-service-record.demo.stats=/api/v1/vehicle-service-records/demo/stats
api.vehicle-service-record.demo.update-overdue=/api/v1/vehicle-service-records/demo/update-overdue
