spring.application.name=capstone-project
app.base.url=${APP_URL:http://localhost:8080}

# Database config
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/capstone-project}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:your_password_here}

# Hibernate - Validate mode (schema must match entities)
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
 
# OAuth2 - Configure in environment variables
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.redirect-uri=${APP_URL}/v1.0/auths/login/oauth2/google
spring.security.oauth2.client.registration.google.scope=email,profile

# Mail Configuration
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.templates.path=classpath:/templates/emails/
spring.mail.from=noreply@truckie.vn
notification.email.from-name=Truckie Logistics
notification.email.from-email=noreply@truckie.com
notification.email.rate-limit.per-hour=50
notification.email.rate-limit.per-day=200

# Frontend URL for email links
app.frontend.url=${FRONTEND_URL:http://localhost:3000}

# FCM config
fcm.service.account.key=classpath:firebase-service-account.json
fcm.sender.id=${FCM_SENDER_ID:your_fcm_sender_id}

# CORS Configuration - Allowed origins for API and WebSocket
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173}

# Swagger
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.enabled=true
springdoc.api-docs.enabled=true
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.operationsSorter=alpha
springdoc.packagesToScan=capstone_project
springdoc.pathsToMatch=/api/v1/**

# Redis configuration
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.username=${REDIS_USERNAME:default}
spring.data.redis.password=${REDIS_PASSWORD}
spring.data.redis.ssl.enabled=${REDIS_SSL:false}
spring.data.redis.timeout=60000
spring.data.redis.lettuce.pool.enabled=true
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0
spring.data.redis.lettuce.pool.max-wait=-1ms
spring.cache.type=redis

# ================= AUTH & JWT =================
auth.api.base-path=/api/v1/auths
email.api.base-path=/api/v1/emails

# JWT Configuration
jwt.secret=${JWT_SECRET:your_jwt_secret_key_minimum_32_characters}
jwt.access-token.expiration-ms=3600000
jwt.refresh-token.expiration-ms=2592000000
jwt.cache.enabled=true
jwt.cache.ttl-seconds=3600

# ================= USER & ROLE =================
user.api.base-path=/api/v1/users
manager.api.base-path=/api/v1/managers
role.api.base-path=/api/v1/roles
customer.api.base-path=/api/v1/customers
driver.api.base-path=/api/v1/drivers

# ================= ADMIN DASHBOARD =================
admin-dashboard.api.base-path=/api/v1/admin/dashboard
address.api.base-path=/api/v1/address

# ================= VEHICLE & TRUCK =================
vehicle.api.base-path=/api/v1/vehicles
truck.api.base-path=/api/v1/trucks
trailer.api.base-path=/api/v1/trailers
maintenance-schedule.api.base-path=/api/v1/maintenance-schedules
vehicle-service-record.api.base-path=/api/v1/vehicle-service-records

# ================= CATEGORY =================
category.api.base-path=/api/v1/categories
category-pricing-detail.api.base-path=/api/v1/category-pricing-details

# ================= PRICING & DISTANCE =================
basing-price.api.base-path=/api/v1/basing-prices
distance.api.base-path=/api/v1/distances
distance-rule.api.base-path=/api/v1/distance-rules

# ================= ORDER =================
order.api.base-path=/api/v1/orders
order-detail.api.base-path=/api/v1/order-details
order-size.api.base-path=/api/v1/order-sizes
pdf.api.base-path=/api/v1/orders
bill-of-lading.api.base-path=/api/v1/bill-of-ladings
photo-completion.api.base-path=/api/v1/photo-completions
payos-transaction.api.base-path=/api/v1/transactions/pay-os
stripe-transaction.api.base-path=/api/v1/transactions/stripe
transaction.api.base-path=/api/v1/transactions
packing-proof-image.api.base-path=/api/v1/packing-proof-images
loading-documentation.api.base-path=/api/v1/loading-documentation

# ================= RECIPIENT TRACKING (PUBLIC) =================
recipient-tracking.api.base-path=/api/v1/public/recipient-tracking

journey-history.api.base-path=/api/v1/journey-histories

# ================= CONTRACT =================
contract.api.base-path=/api/v1/contracts
contract-rule.api.base-path=/api/v1/contract-rules

# ================= PENALTY =================
penalty.api.base-path=/api/v1/penalties

# ================= ISSUE =================
issue.api.base-path=/api/v1/issues
issue-type.api.base-path=/api/v1/issue-types
issue-image.api.base-path=/api/v1/issue-images
issue-customer.api.base-path=/api/v1/issue/customer
damage-resolution.api.base-path=/api/v1/damage-resolution
issue.return-payment.deadline-minutes=30

# ================= OFF-ROUTE WARNING CONFIG =================
offroute.max-distance-meters=30.0
offroute.warning.yellow-seconds=5
offroute.warning.red-seconds=10
offroute.contact.grace-period-minutes=1
offroute.contact.extension-minutes=1
offroute.return.min-distance-meters=50.0

# ================= REFUND =================
refund.api.base-path=/api/v1/refunds

# ================= DEVICE =================
device.api.base-path=/api/v1/devices
device-type.api.base-path=/api/v1/device-types

# ================= USER CHAT =================
user-chat.api.base-path=/api/v1/user-chat

# ================= SETTING =================
system-setting.api.base-path=/api/v1/system-settings
contract-setting.api.base-path=/api/v1/contract-settings
weight-unit-setting.api.base-path=/api/v1/weight-unit-settings
carrier-setting.api.base-path=/api/v1/carrier-settings
stipulation-setting.api.base-path=/api/v1/stipulation-settings

# ================= SEAL =================
seal.api.base-path=/api/v1/seals

# ================= VIETMAP =================
vietmap.api.base-path=/api/v1/vietmap

# ================= NOTIFICATION =================
notification.api.base-path=/api/v1/notifications

# ================= DASHBOARD =================
dashboard.api.base-path=/api/v1/dashboard

# ================= DEMO DATA (DASHBOARD) =================
demo-data.api.base-path=/api/v1/admin/demo/dashboard-data

# ================= ROUTE =================
route.api.base-path=/api/v1/routes

# Admin user configuration
admin.username=${ADMIN_USERNAME:admin}
admin.email=${ADMIN_EMAIL:admin@example.com}
admin.password=${ADMIN_PASSWORD:change_me_in_production}

# AI Chatbot Configuration (Google Gemini)
ai.gemini.api-key=${GEMINI_API_KEY}
ai.gemini.model=gemini-2.5-flash
ai.gemini.base-url=https://generativelanguage.googleapis.com/v1beta
ai.gemini.temperature=0.7
ai.gemini.max-tokens=2048

# Vietmap API Configuration
vietmap.api.key=${VIETMAP_API_KEY}
vietmap.alternative.api.key=${VIETMAP_ALTERNATIVE_API_KEY}
vietmap.base-url=https://maps.vietmap.vn
vietmap.api.search.demo.endpoint=/api/search/demo
vietmap.api.place.demo.endpoint=/api/place/demo
vietmap.api.autocomplete.demo.endpoint=/api/autocomplete/demo
vietmap.api.reverse-geocode.demo.endpoint=/api/reverse/demo
vietmap.api.route.endpoint=/api/route/v3
vietmap.api.autocomplete.endpoint=/api/autocomplete/v3
vietmap.api.reverse-geocode.endpoint=/api/reverse/v3
vietmap.api.place.endpoint=/api/place/v3
vietmap.api.route-tolls.endpoint=/api/route-tolls
vietmap.parameter.value.default.hcm.focus=10.762622,106.660172
vietmap.parameter.value.city.id.hcm=12
vietmap.maps.styles.endpoint=/maps/styles/tm/tiles.json
vietmap.maps.mobile.styles.endpoint=/api/maps/raster/styles.json
vietmap.route.default.alternative=true
vietmap.route.default.time=2025-08-01T17:00:00Z

# Stripe API Configuration
stripe.secret-key=${STRIPE_SECRET_KEY}
stripe.webhook-secret-key=${STRIPE_WEBHOOK_SECRET}
stripe.publishable-key=${STRIPE_PUBLISHABLE_KEY}

# ================= LOGGING CONFIGURATION =================
logging.level.root=WARN
logging.level.capstone_project=INFO
logging.level.org.hibernate=INFO
logging.level.org.hibernate.SQL=INFO
logging.level.org.springframework=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.boot=WARN
logging.level.org.springframework.boot.autoconfigure=ERROR
logging.level.org.springframework.context=WARN
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=ERROR
logging.level.org.hibernate.engine.transaction.internal.TransactionImpl=ERROR
logging.level.org.springframework.jdbc.core=ERROR
logging.level.org.springframework.data.redis=ERROR
logging.level.org.springframework.data.redis.core=ERROR
logging.level.org.springframework.web.socket=ERROR
logging.level.org.springframework.messaging=ERROR
logging.level.com.zaxxer.hikari=ERROR
logging.level.io.lettuce=ERROR
logging.level.reactor=ERROR
logging.level.org.apache=ERROR
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

spring.web.resources.add-mappings=false

# Cloudinary Configuration
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api-key=${CLOUDINARY_API_KEY}
cloudinary.api-secret=${CLOUDINARY_API_SECRET}
cloudinary.secure=true

# PayOS Configuration
payos.client-id=${PAYOS_CLIENT_ID}
payos.api-key=${PAYOS_API_KEY}
payos.checksum-key=${PAYOS_CHECKSUM_KEY}
payos.base-url=https://api-merchant.payos.vn
payos.return-url=${FRONTEND_URL}/payment/return
payos.cancel-url=${FRONTEND_URL}/payment/cancel

management.tracing.enabled=false

# OptaPlanner configuration
optaplanner.solver.termination.spent-limit=5s

# DevTools - Disable in production
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# Server Configuration
server.address=0.0.0.0
server.port=${PORT:8080}

# Multipart file upload configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=2KB

# Liquibase Configuration
spring.liquibase.enabled=true
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml
spring.liquibase.drop-first=false

# Weight Unit Configuration
app.weight.units.default=Tấn
app.weight.units.available=Tấn,Kí,Kilogram,Tạ,Yến

# Prefix code for Order and OrderDetail
prefix.order.code=ORD
prefix.order.detail.code=ORD_D_
prefix.vehicle.assignment.code=TRIP_

# Penalty reasons
penalty.truck.traffic-violations=Chạy quá tốc độ,Vượt đèn đỏ,Đi sai làn đường,Không giữ khoảng cách an toàn,Không chấp hành tín hiệu giao thông,Chở quá tải trọng cho phép,Không có hoặc không mang theo giấy tờ xe,Không thắt dây an toàn,Sử dụng điện thoại khi lái xe,Đỗ dừng xe sai quy định,Lý do khác

# ================= API ENDPOINTS =================
api.vehicle-service-record.demo.generate=/api/v1/vehicle-service-records/demo/generate
api.vehicle-service-record.demo.clear=/api/v1/vehicle-service-records/demo/clear
api.vehicle-service-record.demo.stats=/api/v1/vehicle-service-records/demo/stats
api.vehicle-service-record.demo.update-overdue=/api/v1/vehicle-service-records/demo/update-overdue
